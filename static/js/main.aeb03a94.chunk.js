(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={formField:"FormControls_formField__1xhjZ",formControl:"FormControls_formControl__2SPvv",helpBlock:"FormControls_helpBlock__1swUn",textarea:"FormControls_textarea__3xGy-",input:"FormControls_input__2uaFG",checkbox:"FormControls_checkbox__b0iUB",checkbox__label:"FormControls_checkbox__label__q87iO",button:"FormControls_button__3Y9MR",hasError:"FormControls_hasError__29ofn"}},128:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(39),r=n(7),s="socailnetwork/messages/SEND-MSG",o={dialogs:[{id:"1",name:"Viktor"},{id:"2",name:"Sebek"},{id:"3",name:"Cotlovan"}],messages:[{id:1,message:"Hey, how are you",type:"input"},{id:2,message:"Hi, a'im zbs. You?",type:"output"},{id:3,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam beatae blanditiis eaque explicabo illum itaque iure laboriosam libero modi, odio quisquam quos repellendus repudiandae rerum sapiente suscipit tempora tempore voluptates?",type:"output"},{id:4,message:"Okay, thanks for you respond",type:"input"}]},i=function(e){return{type:s,newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:e.messages[e.messages.length-1].id+1,message:t.newMessage,type:"output"},i=Object(r.a)({},e);return n.message&&(i=Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[n])})),i;default:return e}}},136:function(e,t,n){e.exports=n.p+"static/media/preloader.a8ed85cb.gif"},138:function(e,t,n){e.exports={profile:"Profile_profile__3dzvr"}},140:function(e,t,n){e.exports=n.p+"static/media/lookingJobIcon.87263587.png"},141:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},142:function(e,t,n){e.exports=n.p+"static/media/logout.dbe1e94c.svg"},169:function(e,t,n){e.exports=n(296)},170:function(e,t,n){},175:function(e,t,n){},19:function(e,t,n){e.exports={users:"Users_users__2Iv27",user:"Users_user__1dQYj",user__left:"Users_user__left__jISoI",user__avatar:"Users_user__avatar__2c-2z",user__center:"Users_user__center__FW4VB",user__fullname:"Users_user__fullname__1OaM5",user__status:"Users_user__status__8Vfwh",user__button:"Users_user__button__1y0me",user__right:"Users_user__right__JS7M9"}},20:function(e,t,n){e.exports={img:"ProfileInfo_img__1lpBU",userProfile:"ProfileInfo_userProfile__20Rnr",userProfile__fullname:"ProfileInfo_userProfile__fullname__1_oyn",userProfile__avatar:"ProfileInfo_userProfile__avatar__NxpXE",userProfile__info:"ProfileInfo_userProfile__info__36jZ7",userProfile__status:"ProfileInfo_userProfile__status__kyVvD",userProfile__contacts:"ProfileInfo_userProfile__contacts__LBJqR",userProfile__jobInfo:"ProfileInfo_userProfile__jobInfo__TedkV",userProfile__lookingIcon:"ProfileInfo_userProfile__lookingIcon__2E74g"}},25:function(e,t,n){e.exports={sidebar:"navbar_sidebar__RlD_9",navigation:"navbar_navigation__23-kK",item:"navbar_item__1Lyvz",active:"navbar_active__erm8h"}},296:function(e,t,n){"use strict";n.r(t);n(170),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r=n(68),s=n.n(r),o=n(28),i=n(29),u=n(31),c=n(30),l=n(32),f=n(0),m=n.n(f),p=(n(175),n(9)),_=n(25),d=n.n(_),g=n(18),h=n(55),b=n.n(h),v=function(e){var t=e.friends.map(function(e){return m.a.createElement("div",{className:b.a.user,key:e.id},m.a.createElement("div",{className:b.a.avatar}),m.a.createElement("div",{className:b.a.userName},e.name))});return m.a.createElement("div",{className:b.a.friends},m.a.createElement("h3",null,"My react friends "),t)},E=function(e){return m.a.createElement("aside",{className:d.a.sidebar},m.a.createElement("nav",{className:d.a.navigation},m.a.createElement(g.b,{to:"/profile",className:d.a.item,activeClassName:d.a.active}," Profile"),m.a.createElement(g.b,{to:"/dialogs",className:d.a.item,activeClassName:d.a.active},"Dialogs"),m.a.createElement(g.b,{to:"/users",className:d.a.item,activeClassName:d.a.active},"Users")),m.a.createElement(v,{friends:e.sidebar.friends}))},P=Object(p.b)(function(e){return{sidebar:e.sidebar}},function(e){return{}})(E),O=n(8),w=n.n(O),k=n(17),j=n(39),S=n(7),N=n(134).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"debbad39-c8d6-4059-aada-925f0eac2782"}}),y={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return N.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},follow:function(e){return N.post("follow/".concat(e)).then(function(e){return e.data})},unfollow:function(e){return N.delete("follow/".concat(e)).then(function(e){return e.data})}},I=function(){return N.get("auth/me").then(function(e){return e.data})},C=function(e){return N.post("auth/login",Object(S.a)({},e)).then(function(e){return e.data})},x=function(){return N.delete("auth/login").then(function(e){return e.data})},F=function(e){return N.get("profile/".concat(e)).then(function(e){return e.data})},T=function(e){return N.get("profile/status/".concat(e)).then(function(e){return e.data})},U=function(e){return N.put("profile/status",{status:e}).then(function(e){return e.data})},L=function(e,t,n,a){return e.map(function(e){return e[n]===t?Object(S.a)({},e,a):e})},A="socailnetwork/users/FOLLOW",D="socailnetwork/users/UNFOLLOW",R="socailnetwork/users/SET-USERS",z={users:[],pageSize:20,totalItemsCount:1,currentPage:1,isFetching:!0,followingInProgress:[2,3],linksOnPage:10},M=function(e){return{type:A,userID:e}},G=function(e){return{type:D,userID:e}},B=function(e){return{type:"socailnetwork/users/TOGGLE-IS-FETCHING",isFetching:e}},q=function(e,t){return{type:"socailnetwork/users/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Z=function(){var e=Object(k.a)(w.a.mark(function e(t,n,a,r){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&(t(r(n)),t(q(!1,n)));case 5:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(S.a)({},e,{users:L(e.users,t.userID,"id",{followed:!0})});case D:return Object(S.a)({},e,{users:L(e.users,t.userID,"id",{followed:!1})});case R:return Object(S.a)({},e,{users:Object(j.a)(t.users)});case"socailnetwork/users/SET-CURRENT-PAGE":return Object(S.a)({},e,{currentPage:t.newCurrentPage});case"socailnetwork/users/SET-TOTAL-USERS-COUNT":return Object(S.a)({},e,{totalItemsCount:t.totalCount});case"socailnetwork/users/TOGGLE-IS-FETCHING":return Object(S.a)({},e,{isFetching:t.isFetching});case"socailnetwork/users/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(S.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(j.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter(function(e){return e!==t.userId})]});default:return e}},W=n(19),J=n.n(W),V=n(71),Y=n(54),Q=n(46),X=n.n(Q),K=n(135),$=n.n(K),ee=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,s=e.linksOnPage,o=void 0===s?10:s,i=Math.ceil(t/n),u=[],c=1;c<=i;c++)u.push(c);var l=Math.ceil(i/o),p=Object(f.useState)(1),_=Object(Y.a)(p,2),d=_[0],g=_[1],h=(d-1)*o+1,b=d*o;return Object(f.useEffect)(function(){var e=Math.ceil(a/o);g(e)},[a,o]),m.a.createElement("div",{className:X.a.pagination},d>1&&m.a.createElement("button",{onClick:function(){g(d-1)},className:X.a.pagination__btn},"Prev"),u.filter(function(e){return e>=h&&e<=b}).map(function(e){return m.a.createElement("span",{key:e,onClick:function(){r(e)},className:$()(Object(V.a)({},X.a.pagination__link_active,a===e),X.a.pagination__link)},e)}),l>d&&m.a.createElement("button",{onClick:function(){g(d+1)},className:X.a.pagination__btn},"Next"))},te=n(72),ne=n.n(te),ae=function(e){return m.a.createElement("div",{className:J.a.user},m.a.createElement("div",{className:J.a.user__left},m.a.createElement(g.b,{to:"/profile/"+e.user.id},m.a.createElement("img",{className:J.a.user__avatar,src:null!==e.user.photos.small?e.user.photos.small:ne.a,alt:""})),e.followed?m.a.createElement("button",{disabled:e.followingInProgress.some(function(t){return t===e.user.id}),onClick:function(){e.unfollow(e.user.id)},className:J.a.user__button},"Unfollow"):m.a.createElement("button",{disabled:e.followingInProgress.some(function(t){return t===e.user.id}),onClick:function(){e.follow(e.user.id)},className:J.a.user__button},"Follow")),m.a.createElement("div",{className:J.a.user__center},m.a.createElement("div",{className:J.a.user__fullname},e.user.name),m.a.createElement("div",{className:J.a.user__status},e.user.status)),m.a.createElement("div",{className:J.a.user__right}))},re=function(e){return m.a.createElement(m.a.Fragment,null,m.a.createElement(ee,{onPageChanged:e.onPageChanged,currentPage:e.currentPage,totalItemsCount:e.totalItemsCount,pageSize:e.pageSize}),m.a.createElement("div",{className:J.a.users},e.users.map(function(t){return m.a.createElement(ae,{key:t.id,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow,user:t})})))},se=n(136),oe=n.n(se),ie=n(94),ue=n.n(ie),ce=function(e){return m.a.createElement("div",{className:ue.a.preloaderContainer},m.a.createElement("img",{src:oe.a,alt:"",className:ue.a.preloader}))},le=n(6),fe=n(137),me=function(e){return e.usersPage.users},pe=(Object(fe.a)(me,function(e){return e.filter(function(e){return!0})}),function(e){return e.usersPage.pageSize}),_e=function(e){return e.usersPage.totalItemsCount},de=function(e){return e.usersPage.currentPage},ge=function(e){return e.usersPage.isFetching},he=function(e){return e.usersPage.followingInProgress},be=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.setCurrentPage(e),n.props.requestUsers(e,n.props.pageSize)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;0===this.props.users.length&&this.props.requestUsers(t,n)}},{key:"render",value:function(){return f.createElement(f.Fragment,null,this.props.isFetching?f.createElement(ce,null):f.createElement(re,Object.assign({},this.props,{onPageChanged:this.onPageChanged})))}}]),t}(f.Component),ve=Object(le.d)(Object(p.b)(function(e){return{users:me(e),pageSize:pe(e),totalItemsCount:_e(e),currentPage:de(e),isFetching:ge(e),followingInProgress:he(e),linksOnPage:e.usersPage.linksOnPage}},{setCurrentPage:function(e){return{type:"socailnetwork/users/SET-CURRENT-PAGE",newCurrentPage:e}},requestUsers:function(e,t){return function(){var n=Object(k.a)(w.a.mark(function n(a){var r;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(B(!0)),n.next=3,y.getUsers(e,t);case 3:r=n.sent,a(B(!1)),a((s=r.items,{type:R,users:s})),a({type:"socailnetwork/users/SET-TOTAL-USERS-COUNT",totalCount:r.totalCount});case 7:case"end":return n.stop()}var s},n)}));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Z(n,e,y.follow.bind(y),M);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Z(n,e,y.unfollow.bind(y),G);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}))(be),Ee=n(138),Pe=n.n(Ee),Oe=n(75),we=n.n(Oe),ke=n(56),je=n.n(ke),Se=function(e){return m.a.createElement("div",{className:je.a.item},m.a.createElement("div",{className:je.a.avatar}),m.a.createElement("div",{className:je.a.text},e.msg?e.msg:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet animi consequuntur delectus deleniti"),m.a.createElement("div",{className:je.a.likes}," ",e.likes))},Ne=n(129),ye=n(130),Ie=function(e){return e?void 0:"Field is required!"},Ce=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?void 0:'Please enter email in format "mail@site.com"'},xe=n(57),Fe=n(10),Te=n.n(Fe),Ue=function(e){e.input;var t=e.meta,n=Object(xe.a)(e,["input","meta"]),a=t.touched&&t.error,r=a?Te.a.formField+" "+Te.a.hasError:Te.a.formField;return m.a.createElement("div",{className:r},n.children,m.a.createElement("div",{className:Te.a.helpBlock},a?t.error:null))},Le=function(e){var t=e.input,n=(e.meta,e.child,Object(xe.a)(e,["input","meta","child"]));return m.a.createElement(Ue,e,m.a.createElement("textarea",Object.assign({},t,n,{className:Te.a.textarea+" "+Te.a.formControl})))},Ae=function(e){var t=e.input,n=(e.meta,e.child,Object(xe.a)(e,["input","meta","child"]));return m.a.createElement(Ue,e,m.a.createElement("input",Object.assign({},t,n,{className:Te.a.input+" "+Te.a.formControl})))},De=function(e){var t=e.input,n=e.meta,a=Object(xe.a)(e,["input","meta"]),r=n.touched&&n.error?Te.a.formField+" "+Te.a.hasError:Te.a.formField;return m.a.createElement("div",{className:r},m.a.createElement("input",Object.assign({type:"checkbox"},t,a,{className:Te.a.checkbox+" "+Te.a.formControl})),m.a.createElement("label",{className:Te.a.checkbox__label,htmlFor:a.id},a.label))},Re=function(e){return m.a.createElement("button",Object.assign({},e.type,{className:e.className?e.className:Te.a.button}),e.label)},ze=(a=140,function(e){return e&&e.length>a?"Max field length is 140 symbols":void 0}),Me=Object(ye.a)({form:"addPostForm"})(function(e){return f.createElement("form",{className:we.a.newPost,onSubmit:e.handleSubmit},f.createElement(Ne.a,{validate:[Ie,ze],component:Le,placeholder:"Enter your post text",name:"newPostText"}),f.createElement(Re,{label:"Add post"}))}),Ge=f.memo(function(e){var t=e.posts.map(function(e){return f.createElement(Se,{msg:e.message,likes:e.likes,key:e.id})});return f.createElement("div",{className:we.a.posts},f.createElement("div",null,f.createElement(Me,{onSubmit:function(t){e.addPost(t.newPostText)}})),f.createElement("div",{className:we.a.postsList},t))}),Be="socailnetwork/profile/ADD-POST",qe={posts:[{id:1,message:"Hi, how are you?",likes:"54"},{id:2,message:"It's my first react app",likes:"102"},{id:3,likes:"8"}],userProfile:null,userStatus:""},Ze=function(e){return{type:"socailnetwork/profile/SET-USER-STATUS",userStatus:e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:var n={id:e.posts[e.posts.length-1].id+1,message:t.newPostText,likes:0};return Object(S.a)({},e,{posts:[].concat(Object(j.a)(e.posts),[n])});case"socailnetwork/profile/UPDATE-NEW-POST-TEXT":return Object(S.a)({},e,{newPostText:t.newText});case"socailnetwork/profile/SET-USER-PROFILE":return Object(S.a)({},e,{userProfile:t.userProfile});case"socailnetwork/profile/SET-USER-STATUS":return Object(S.a)({},e,{userStatus:t.userStatus});case"socailnetwork/profile/DELETE_POST":return Object(S.a)({},e,{posts:e.posts.filter(function(e){return e.id!==t.postID})});default:return e}},We=Object(p.b)(function(e){return{posts:e.profilePage.posts}},function(e){return{addPost:function(t){e(function(e){return{type:Be,newPostText:e}}(t))}}})(Ge),Je=n(20),Ve=n.n(Je),Ye=n(140),Qe=n.n(Ye),Xe=function(e){var t=Object(f.useState)(!1),n=Object(Y.a)(t,2),a=n[0],r=n[1],s=Object(f.useState)(e.userStatus),o=Object(Y.a)(s,2),i=o[0],u=o[1];Object(f.useEffect)(function(){u(e.userStatus)},[e.userStatus]);return m.a.createElement("div",null,a?m.a.createElement("div",{className:Ve.a.userProfile__status},m.a.createElement("input",{value:i,autoFocus:!0,onChange:function(e){var t=e.target.value;u(t)},onBlur:function(t){e.userStatus!==i&&e.updStatus(i),r(!a)}})):m.a.createElement("div",{className:Ve.a.userProfile__status,onDoubleClick:function(){r(!a)}},m.a.createElement("span",null,e.userStatus?e.userStatus:"Double click to change status")))},Ke=function(e){if(e.userProfile){var t=e.userProfile.contacts,n=[];for(var a in t)if(t.hasOwnProperty(a)&&t[a]){var r="icon icon--"+a;n.push(m.a.createElement("a",{key:a,href:t[a],target:"_blank",rel:"noopener noreferrer",className:r},a))}return m.a.createElement("div",null,m.a.createElement("div",{className:Ve.a.img}," My React App"),m.a.createElement("div",{className:Ve.a.userProfile},m.a.createElement("img",{className:Ve.a.userProfile__avatar,src:e.userProfile.photos.large?e.userProfile.photos.large:ne.a,alt:""}),m.a.createElement("div",{className:Ve.a.userProfile__info},m.a.createElement("div",{className:Ve.a.userProfile__fullname},e.userProfile.fullName),m.a.createElement(Xe,{updStatus:e.updStatus,userStatus:e.userStatus}),m.a.createElement("div",{className:Ve.a.userProfile__contacts},n.length?m.a.createElement("div",{className:"icons"},n):null),e.userProfile.lookingForAJob?m.a.createElement("div",{className:Ve.a.userProfile__jobInfo},m.a.createElement("img",{src:Qe.a,alt:"",className:Ve.a.userProfile__lookingIcon}),e.userProfile.lookingForAJobDescription):null)))}return m.a.createElement(ce,null)},$e=function(e){return m.a.createElement("div",{className:Pe.a.profile},m.a.createElement(Ke,{userProfile:e.userProfile,userStatus:e.userStatus,updStatus:e.updStatus}),m.a.createElement(We,null))},et=n(36),tt=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId?this.props.match.params.userId:this.props.authUserID;e?(this.props.getProfile(e),this.props.getStatus(e)):this.props.history.push("/login")}},{key:"componentDidUpdate",value:function(e,t,n){if(e.authUserID!==this.props.authUserID){var a=this.props.match.params.userId?this.props.match.params.userId:this.props.authUserID;this.props.getProfile(a),this.props.getStatus(a)}}},{key:"render",value:function(){return f.createElement($e,this.props)}}]),t}(f.Component),nt=Object(le.d)(Object(p.b)(function(e){return{userProfile:e.profilePage.userProfile,userStatus:e.profilePage.userStatus,authUserID:e.auth.id}},{getProfile:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){var a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:a=t.sent,n({type:"socailnetwork/profile/SET-USER-PROFILE",userProfile:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){var a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:a=t.sent,n(Ze(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updStatus:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:0===t.sent.resultCode&&n(Ze(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),et.f)(tt),at=n(141),rt=n.n(at),st=n(58),ot=n.n(st),it=n(142),ut=n.n(it),ct=function(e){return m.a.createElement("header",{className:ot.a.header},m.a.createElement("img",{src:rt.a,alt:"",className:ot.a.logo}),m.a.createElement("div",{className:ot.a.loginBlock},e.isAuth?m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,e.login),m.a.createElement("img",{src:ut.a,alt:"",onClick:function(){return e.logout()},className:ot.a.logout})):m.a.createElement(g.b,{to:"/login"},"login")))},lt=n(41),ft={id:null,login:null,email:null,isAuth:!1},mt=function(e,t,n,a){return{type:"socailnetwork/auth/SET_USER_DATA",data:{email:e,id:t,login:n,isAuth:a}}},pt=function(){return function(){var e=Object(k.a)(w.a.mark(function e(t){var n,a,r,s,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,s=a.login,o=a.email,t(mt(o,r,s,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"socailnetwork/auth/SET_USER_DATA":return Object(S.a)({},e,t.data);default:return e}},dt=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return f.createElement(ct,this.props)}}]),t}(f.Component),gt=Object(p.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:function(){return function(){var e=Object(k.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===e.sent.resultCode&&t(mt(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(dt),ht=n(97),bt=n.n(ht),vt=Object(ye.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error;return m.a.createElement("form",{onSubmit:t,className:bt.a.loginForm},m.a.createElement(Ne.a,{component:Ae,validate:Ce,name:"email",type:"text",placeholder:"Login"}),m.a.createElement(Ne.a,{component:Ae,validate:Ie,type:"password",placeholder:"Password",name:"password"}),m.a.createElement(Ne.a,{id:"rememberMe",component:De,name:"rememberMe",label:"Remember me"}),n&&m.a.createElement("div",{className:Te.a.helpBlock+" "+Te.a.hasError},n),m.a.createElement(Re,{label:"Login"}))}),Et=function(e){return e.isAuth?m.a.createElement(et.a,{to:"/profile"}):m.a.createElement("div",{className:bt.a.loginPage},m.a.createElement("h1",null,"Login"),m.a.createElement(vt,{onSubmit:function(t){e.login(t)}}))},Pt=Object(p.b)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(n){var a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===(a=t.sent).resultCode?n(pt()):n(Object(lt.b)("login",{_error:a.messages[0]}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(Et),Ot={initialized:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;switch((arguments.length>1?arguments[1]:void 0).type){case"socailnetwork/app/SET_INITIALIZED":return Object(S.a)({},e,{initialized:!0});default:return e}},kt=n(128),jt={friends:[{id:"2",name:"Sebek"},{id:"3",name:"Cotlovan"}]},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;arguments.length>1&&arguments[1];return e},Nt=n(143),yt=n(131),It=Object(le.c)({profilePage:He,messagesPage:kt.a,sidebar:St,usersPage:H,auth:_t,form:yt.a,app:wt}),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,xt=Object(le.e)(It,Ct(Object(le.a)(Nt.a)));window.store=xt;var Ft=xt,Tt=m.a.lazy(function(){return n.e(3).then(n.bind(null,301))}),Ut=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?m.a.createElement("div",{className:"App"},m.a.createElement(gt,null),m.a.createElement(P,null),m.a.createElement("div",{className:"main"},m.a.createElement(et.b,{path:"/dialogs",render:function(){return m.a.createElement(f.Suspense,{fallback:m.a.createElement(ce,null)},m.a.createElement(Tt,null)," ")}}),m.a.createElement(et.b,{path:"/profile/:userId?",render:function(){return m.a.createElement(nt,null)}}),m.a.createElement(et.b,{path:"/login",render:function(){return m.a.createElement(Pt,null)}}),m.a.createElement(et.b,{path:"/users",render:function(){return m.a.createElement(ve,null)}}))):m.a.createElement(ce,null)}}]),t}(m.a.Component),Lt=Object(le.d)(et.f,Object(p.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){var t=e(pt());Promise.all([t]).then(function(t){e({type:"socailnetwork/app/SET_INITIALIZED"})})}}}))(Ut),At=function(e){return m.a.createElement(g.a,{basename:"/react-social-network"},m.a.createElement(p.a,{store:Ft},m.a.createElement(Lt,null)))};s.a.render(m.a.createElement(At,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},46:function(e,t,n){e.exports={pagination:"Paginator_pagination__1asUZ",pagination__link:"Paginator_pagination__link__2lqYL",pagination__btn:"Paginator_pagination__btn__1_Lzj",pagination__link_active:"Paginator_pagination__link_active__3mDhH"}},55:function(e,t,n){e.exports={friends:"Friends_friends__1-Zf7",user:"Friends_user__1rZgZ",avatar:"Friends_avatar__3QSSM",userName:"Friends_userName__3Q0kv"}},56:function(e,t,n){e.exports={item:"Posts_item__y9YXG",avatar:"Posts_avatar__3cFB7",text:"Posts_text__3R7oj",likes:"Posts_likes__2Y1cu"}},58:function(e,t,n){e.exports={header:"header_header__HZ6Fg",logo:"header_logo__3iSgw",loginBlock:"header_loginBlock__2dP0n",logout:"header_logout__2sa4I"}},72:function(e,t,n){e.exports=n.p+"static/media/avatar.0d09cb21.png"},75:function(e,t,n){e.exports={posts:"MyPosts_posts__3tZ1c",postsList:"MyPosts_postsList__128aV",newPost:"MyPosts_newPost__3FkQO"}},94:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__1D5OQ",preloader:"Preloader_preloader__2dvkO"}},97:function(e,t,n){e.exports={loginPage:"Login_loginPage__-UEgp",loginForm:"Login_loginForm__1Hg13"}}},[[169,1,2]]]);
//# sourceMappingURL=main.aeb03a94.chunk.js.map